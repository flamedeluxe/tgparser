# ๐ค Telegram Parser Bot

[![Docker](https://img.shields.io/badge/Docker-Ready-blue?logo=docker)](https://www.docker.com/)
[![PHP](https://img.shields.io/badge/PHP-8.1+-purple?logo=php)](https://www.php.net/)
[![SQLite](https://img.shields.io/badge/Database-SQLite-green?logo=sqlite)](https://www.sqlite.org/)
[![API](https://img.shields.io/badge/API-REST-orange?logo=api)](https://en.wikipedia.org/wiki/Representational_state_transfer)

ะะฒัะพะผะฐัะธัะตัะบะธะน ะฟะฐััะธะฝะณ ะบะพะฝัะตะฝัะฐ ะธะท Telegram ะบะฐะฝะฐะปะพะฒ ั REST API, ะฒะตะฑ-ะธะฝัะตััะตะนัะพะผ ะธ Docker ะฟะพะดะดะตัะถะบะพะน.

## โจ ะะพะทะผะพะถะฝะพััะธ

- ๐ค **ะะฒัะพะผะฐัะธัะตัะบะธะน ะฟะฐััะธะฝะณ** ะบะพะฝัะตะฝัะฐ ะธะท ะบะฐะฝะฐะปะพะฒ ะธ ะณััะฟะฟ
- ๐ **ะกะพััะฐะฝะตะฝะธะต** ัะตะบััะพะฒัั ัะพะพะฑัะตะฝะธะน ะฒ SQLite ะฑะฐะทั ะดะฐะฝะฝัั
- ๐ฌ **ะะฐััะธะฝะณ ะผะตะดะธะฐัะฐะนะปะพะฒ** (ัะพัะพ, ะฒะธะดะตะพ, ะดะพะบัะผะตะฝัั, ะฐัะดะธะพ)
- ๐ **ะกัะฐัะธััะธะบะฐ ะฟะฐััะธะฝะณะฐ** ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ
- ๐ **ะะพะปะฝะพัะตะบััะพะฒัะน ะฟะพะธัะบ** ะฟะพ ัะพะพะฑัะตะฝะธัะผ
- ๐บ **ะฃะฟัะฐะฒะปะตะฝะธะต ะบะฐะฝะฐะปะฐะผะธ** ะธ ะณััะฟะฟะฐะผะธ
- ๐ **REST API** ะดะปั ะดะพัััะฟะฐ ะบ ะดะฐะฝะฝัะผ
- ๐ณ **Docker Compose** ั Nginx
- ๐ฑ **ะะตะฑ-ะธะฝัะตััะตะนั** ะดะปั ัะฟัะฐะฒะปะตะฝะธั

## ๐ ะัััััะน ััะฐัั

### Docker (ะะตะบะพะผะตะฝะดัะตััั)

```bash
# ะะปะพะฝะธััะนัะต ัะตะฟะพะทะธัะพัะธะน
git clone git@github.com:flamedeluxe/tgparser.git
cd tgparser

# ะะฐะฟัััะธัะต ะฒัะต ัะตัะฒะธัั
docker-compose up -d

# ะัะพะฒะตัััะต ััะฐััั
docker-compose ps
```

**ะะพัััะฟะฝัะต ัะตัะฒะธัั:**
- ๐ **API**: http://localhost/api
- ๐ **ะะปะฐะฒะฝะฐั**: http://localhost
- ๐๏ธ **Adminer**: http://localhost:8080
- ๐ **ะะพะบัะผะตะฝัะฐัะธั**: http://localhost/API.md

### ะะพะบะฐะปัะฝะฐั ัััะฐะฝะพะฒะบะฐ

```bash
# ะฃััะฐะฝะพะฒะธัะต ะทะฐะฒะธัะธะผะพััะธ
composer install

# ะะฝะธัะธะฐะปะธะทะธััะนัะต ะฑะฐะทั ะดะฐะฝะฝัั
php init_db.php

# ะะฐะฟัััะธัะต ะฑะพัะฐ
php bot.php

# ะะฐะฟัััะธัะต API ัะตัะฒะตั
./start_api.sh
```

## ๐ ะะพะบัะผะตะฝัะฐัะธั

- ๐ [ะะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั](README.md)
- ๐ [API ะดะพะบัะผะตะฝัะฐัะธั](API.md)
- ๐ณ [Docker ััะบะพะฒะพะดััะฒะพ](DOCKER.md)

## ๐ง ะะฐัััะพะนะบะฐ

1. ะกะบะพะฟะธััะนัะต ะบะพะฝัะธะณััะฐัะธั:
```bash
cp config.env .env
```

2. ะััะตะดะฐะบัะธััะนัะต `.env`:
```env
BOT_TOKEN=your_telegram_bot_token
BOT_USERNAME=your_bot_username
API_KEY=your_secret_api_key
```

## ๐ API Endpoints

| ะะตัะพะด | Endpoint | ะะฟะธัะฐะฝะธะต |
|-------|----------|----------|
| `GET` | `/api/stats` | ะกัะฐัะธััะธะบะฐ ะฟะฐััะธะฝะณะฐ |
| `GET` | `/api/channels` | ะกะฟะธัะพะบ ะบะฐะฝะฐะปะพะฒ |
| `GET` | `/api/messages` | ะะพะปััะตะฝะธะต ัะพะพะฑัะตะฝะธะน |
| `GET` | `/api/search` | ะะพะธัะบ ะฟะพ ัะพะพะฑัะตะฝะธัะผ |

### ะัะธะผะตั ะธัะฟะพะปัะทะพะฒะฐะฝะธั API

```bash
# ะะพะปััะธัั ััะฐัะธััะธะบั
curl -H "X-API-Key: default_api_key" http://localhost/api/stats

# ะะพะธัะบ ัะพะพะฑัะตะฝะธะน
curl -H "X-API-Key: default_api_key" "http://localhost/api/search?q=ะฟัะธะฒะตั"

# ะะพะปััะธัั ะบะฐะฝะฐะปั
curl -H "X-API-Key: default_api_key" http://localhost/api/channels
```

## ๐ณ Docker ะบะพะผะฐะฝะดั

```bash
# ะะฐะฟััะบ ะฒัะตั ัะตัะฒะธัะพะฒ
docker-compose up -d

# ะัะพัะผะพัั ะปะพะณะพะฒ
docker-compose logs -f

# ะััะฐะฝะพะฒะบะฐ
docker-compose down

# ะะตัะตะทะฐะฟััะบ
docker-compose restart

# ะกะฑะพัะบะฐ ะพะฑัะฐะทะฐ
./docker-build.sh
```

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
tgparser/
โโโ ๐ค bot.php              # ะัะฝะพะฒะฝะพะน ัะฐะนะป ะฑะพัะฐ
โโโ ๐ api.php              # API ัะตัะฒะตั
โโโ ๐ index.php            # ะะปะฐะฒะฝะฐั ัััะฐะฝะธัะฐ
โโโ ๐ณ Dockerfile           # Docker ะพะฑัะฐะท
โโโ ๐ณ docker-compose.yml   # Docker Compose
โโโ ๐ README.md            # ะะพะบัะผะตะฝัะฐัะธั
โโโ ๐ API.md              # API ะดะพะบัะผะตะฝัะฐัะธั
โโโ ๐ณ DOCKER.md           # Docker ััะบะพะฒะพะดััะฒะพ
โโโ ๐ docker/             # Docker ะบะพะฝัะธะณััะฐัะธะธ
โโโ ๐ src/                # ะััะพะดะฝัะน ะบะพะด
โ   โโโ Database.php       # ะะฐะฑะพัะฐ ั ะะ
โ   โโโ ApiController.php  # API ะบะพะฝััะพะปะปะตั
โโโ ๐ logs/               # ะะพะณะธ
```

## ๐ ะะตะทะพะฟะฐัะฝะพััั

- ๐ **API ะบะปัั** ะฐััะตะฝัะธัะธะบะฐัะธั
- ๐ก๏ธ **CORS** ะฟะพะดะดะตัะถะบะฐ
- ๐ **ะะฐัะธัะฐ** ัะปัะถะตะฑะฝัั ัะฐะนะปะพะฒ
- ๐ซ **ะะณัะฐะฝะธัะตะฝะธะต** ะดะพัััะฟะฐ ะบ ะะ

## ๐ ะะพะฝะธัะพัะธะฝะณ

- ๐ **ะกัะฐัะธััะธะบะฐ** ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ
- ๐ **ะะพะณะธัะพะฒะฐะฝะธะต** ะฒัะตั ะพะฟะตัะฐัะธะน
- ๐๏ธ **Adminer** ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะะ
- ๐ **ะะพะธัะบ** ะฟะพ ะฒัะตะผ ะดะฐะฝะฝัะผ

## ๐ค ะะบะปะฐะด ะฒ ะฟัะพะตะบั

1. ะคะพัะบะฝะธัะต ัะตะฟะพะทะธัะพัะธะน
2. ะกะพะทะดะฐะนัะต ะฒะตัะบั ะดะปั ะฝะพะฒะพะน ััะฝะบัะธะธ
3. ะะฝะตัะธัะต ะธะทะผะตะฝะตะฝะธั
4. ะกะพะทะดะฐะนัะต Pull Request

## ๐ ะะธัะตะฝะทะธั

MIT License - ัะผ. ัะฐะนะป [LICENSE](LICENSE)

## ๐ ะะพะดะดะตัะถะบะฐ

ะัะปะธ ั ะฒะฐั ะตััั ะฒะพะฟัะพัั ะธะปะธ ะฟัะพะฑะปะตะผั:

1. ะัะพะฒะตัััะต [ะดะพะบัะผะตะฝัะฐัะธั](README.md)
2. ะกะพะทะดะฐะนัะต [Issue](https://github.com/flamedeluxe/tgparser/issues)
3. ะะฑัะฐัะธัะตัั ะบ [Docker ััะบะพะฒะพะดััะฒั](DOCKER.md)

## ๐ฏ Roadmap

- [ ] ะะพะดะดะตัะถะบะฐ PostgreSQL/MySQL
- [ ] ะะตะฑ-ะธะฝัะตััะตะนั ะดะปั ัะฟัะฐะฒะปะตะฝะธั
- [ ] ะญะบัะฟะพัั ะดะฐะฝะฝัั
- [ ] ะฃะฒะตะดะพะผะปะตะฝะธั
- [ ] ะะฝะฐะปะธัะธะบะฐ ะธ ะณัะฐัะธะบะธ

---

โญ **ะัะปะธ ะฟัะพะตะบั ะฟะพะปะตะทะตะฝ, ะฟะพััะฐะฒััะต ะทะฒะตะทะดั!**
